_edit()
{
    local cur="${COMP_WORDS[COMP_CWORD]}"

    local opts=$(find $(git rev-parse --show-toplevel) -ipath "*$cur*")

    COMPREPLY=( $(compgen -W "${opts}" -- ${cur}) )
    return 0
}
complete -o filenames -F _edit edit
